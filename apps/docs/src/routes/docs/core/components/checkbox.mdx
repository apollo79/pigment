import { Preview } from "../../../../components";
import {
  WithBasicUsage,
  WithDescription,
  WithCustomIcon,
  WithDisabled,
  WithIndeterminate,
  WithInvalid,
  WithSize,
  WithDefaultChecked,
  WithControlledChecked,
} from "../../../../examples/checkbox";

# Checkbox

A control that allows the user to toggle between checked and not checked.

## Import

```tsx
import { Checkbox } from "@kobalte/pigment";
```

## Basic usage

<Preview>
  <WithBasicUsage />
</Preview>

```tsx
<Checkbox label="Subscribe" />
```

### Default checked

An initial, uncontrolled value can be provided using the `defaultChecked` prop.

<Preview>
  <WithDefaultChecked />
</Preview>

```tsx
<Checkbox label="Subscribe" defaultChecked />
```

### Controlled checked

The `checked` prop can be used to make the checked state controlled. The `onChange` event is fired when the user presses the checkbox.

<Preview>
  <WithControlledChecked />
</Preview>

```tsx
import { Checkbox } from "@kobalte/pigment";
import { createSignal } from "solid-js";

function ControlledExample() {
  const [checked, setChecked] = createSignal(false);

  return (
    <Checkbox
      label={checked() ? "Unsubscribe" : "Subscribe"}
      checked={checked()}
      onChange={setChecked}
    />
  );
}
```

## Customization

### Sizes

The Checkbox component comes in two sizes: `md` (default) and `lg`.

<Preview>
  <WithSize />
</Preview>

```tsx
<Checkbox size="md" label="Medium" />
<Checkbox size="lg" label="Large" />
```

### Description

Use the `description` prop to associate additional help text with a checkbox.

<Preview>
  <WithDescription />
</Preview>

```tsx
<Checkbox label="Subscribe" description="You will receive our weekly newsletter" />
```

### Icons

Use the `checkedIcon` and `indeterminateIcon` props to customize the checked or indeterminate states.

<Preview>
  <WithCustomIcon />
</Preview>

```tsx
<Checkbox label="Checked" checkedIcon={<CrossIcon />} checked />
<Checkbox
  label="Indeterminate"
  indeterminateIcon={<QuestionMarkIcon />}
  indeterminate
/>
```

### Indeterminate state

Use the `indeterminate` prop to mark a checkbox as _"partially checked"_.

<Preview>
  <WithIndeterminate />
</Preview>

```tsx {7, 14}
import { Checkbox } from "@kobalte/pigment";
import { createSignal } from "solid-js";

function IndeterminateExample() {
  const [checkedItems, setCheckedItems] = createSignal([true, false]);

  const allChecked = () => checkedItems().every(Boolean);
  const isIndeterminate = () => checkedItems().some(Boolean) && !allChecked();

  return (
    <div class="flex flex-col">
      <Checkbox
        label="Permissions"
        checked={allChecked()}
        indeterminate={isIndeterminate()}
        onChange={checked => setCheckedItems([checked, checked])}
      />
      <div class="flex flex-col items-start ps-6 mt-2 gap-2">
        <Checkbox
          label="Read"
          checked={checkedItems()[0]}
          onChange={checked => setCheckedItems([checked, checkedItems()[1]])}
        />
        <Checkbox
          label="Write"
          checked={checkedItems()[1]}
          onChange={checked => setCheckedItems([checkedItems()[0], checked])}
        />
      </div>
    </div>
  );
}
```

### Invalid state

Use the `invalid` prop to mark the checkbox as invalid. Additionally, you can pass an extra error message using the `errorMessage` prop.

<Preview>
  <WithInvalid />
</Preview>

```tsx
<Checkbox
  label="Subscribe"
  errorMessage="You must be a subscriber to receive our newsletter"
  invalid
/>
```

### Disabled state

Use the `disabled` prop to disable the checkbox.

<Preview>
  <WithDisabled />
</Preview>

```tsx
<Checkbox label="Subscribe" disabled />
```
